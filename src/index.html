<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Fiep SENAI - Agendar</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;700&display=swap" rel="stylesheet">
</head>
<body class="left-scrollbar-simulacao">

    <!-- ================= CABEÇALHO ================= -->
    <header class="navbar">
        <div class="logo-container">
            <img src="./img/logo-senai.png" alt="Logo SENAI" class="logo-senai"> 
        </div>
      
        <nav class="main-nav">
            <a href="#" id="nav-used" class="nav-item">Em Uso</a>
            <a href="#" id="nav-schedule" class="nav-item active">Agendar</a>
            <a href="#" id="nav-pendentes" class="nav-item">Pendentes</a>
            <a href="#" class="nav-item">Relatórios</a>
        </nav>
      
        <div class="user-actions">
            <i class="fas fa-user-circle"></i>
            <i class="fas fa-sign-out-alt"></i>
        </div>
    </header>

    <!-- ================= CONTEÚDO PRINCIPAL ================= -->
    <main class="content-container">
        <!-- ======== ABA USADOS ======== -->
        <section id="used-section" class="hidden">
            <h2><i class="fas fa-history"></i> Equipamentos Usados</h2>
    
            <div class="search-section">
                <div class="search-bar-top">
                    <input type="text" id="search-used" placeholder="Pesquisar solicitante ou equipamento...">
                    <button><i class="fas fa-search"></i></button>
                </div>
            </div>
    
            <div id="used-list-grid" class="products-grid">
                <!-- O JavaScript vai preencher com os cards dos agendamentos -->
            </div>
        </section>

        <section id="pendentes-section" class="hidden">
    <h2><i class="fas fa-exclamation-triangle"></i> Pendentes de Devolução</h2>

    <div class="search-section">
        <div class="search-bar-top">
            <input type="text" id="search-pendentes" placeholder="Pesquisar solicitante ou equipamento...">
            <button><i class="fas fa-search"></i></button>
        </div>
    </div>

    <div id="pendentes-list-grid" class="products-grid">
        <!-- Cards preenchidos via JavaScript -->
    </div>
</section>
    
        <!-- ======== ABA AGENDAR ======== -->
        <section id="agendamentos-section">
            <div class="schedule-layout">
                <aside id="product-sidebar" class="product-selection-sidebar">
                    <button id="open-cadastro-modal" class="create-product-card">
                        <i class="fas fa-plus-circle"></i>
                        <span class="create-text">Criar Produto</span>
                        <span class="create-tip">Cadastre um novo equipamento para agendar.</span>
                    </button>
                
                    <button id="refresh-products" class="create-product-card" style="border-color:#226FC0;">
                        <i class="fas fa-sync-alt" style="color:#226FC0;"></i>
                        <span class="create-text" style="color:#16429F;">Atualizar Equipamentos</span>
                        <span class="create-tip">Recarrega a lista de equipamentos cadastrados.</span>
                    </button>
                
                    <button id="open-excluir-modal" class="create-product-card" style="border-color:#C62828;">
                        <i class="fas fa-trash-alt" style="color:#C62828;"></i>
                        <span class="create-text" style="color:#C62828;">Excluir Equipamento</span>
                        <span class="create-tip">Remova um equipamento existente.</span>
                    </button>
                
                    <div id="product-list" class="product-list"></div>
                </aside>
    
                <div class="calendar-area">
                    <div class="month-nav" aria-label="Navegação de mês">
                        <button id="prev-month" class="month-arrow" aria-label="Mês anterior">&lsaquo;</button>
                        <h2 id="month-title" class="month-title">Setembro 2025</h2>
                        <button id="next-month" class="month-arrow" aria-label="Próximo mês">&rsaquo;</button>
                    </div>
                    <div id="calendar-grid" class="calendar-grid"></div>
                    <button class="confirm-btn" id="open-agendamento-btn" disabled>Agendar</button>
                </div>
            </div>

            <div id="excluir-modal" class="modal-overlay">
                <div class="modal-content confirmation-content">
                    <h3>Excluir Equipamento</h3>
                    <form id="excluir-form">
                        <div class="form-group">
                            <label for="equipamentoExcluir">Selecione o equipamento:</label>
                            <select id="equipamentoExcluir" required></select>
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="cancel-btn" id="close-excluir-modal">Cancelar</button>
                            <button type="submit" class="confirm-modal-btn" style="background-color:#C62828;">Excluir</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <section id="relatorios-section" class="hidden">
            <h2><i class="fas fa-chart-line"></i> Relatórios de Agendamentos</h2>
            <div class="search-section">
                <div class="search-bar-top">
                    <input type="text" id="search-relatorios" placeholder="Pesquisar solicitante ou equipamento...">
                    <button><i class="fas fa-search"></i></button>
                </div>
            </div>
        
            <div id="relatorios-list-grid" class="products-grid">
                <!-- O JavaScript vai preencher com os dados -->
            </div>
            <button id="btn-download-pdf"><i class="fas fa-file-pdf"></i> Baixar Relatório PDF</button>
            <div id="relatorio-modal" class="modal-overlay">
                <div class="modal-content confirmation-content">
                  <h3>Gerar Relatório PDF</h3>
                  <form id="relatorio-form">
                    <div class="form-group">
                      <label>Selecione o tipo de relatório:</label>
                      <div>
                        <label><input type="radio" name="tipoRelatorio" value="mensal" required> Mensal</label><br>
                        <label><input type="radio" name="tipoRelatorio" value="anual"> Anual</label>
                      </div>
                    </div>
              
                    <div id="mensal-fields" class="form-group hidden">
                      <label for="mesSelecionado">Mês:</label>
                      <select id="mesSelecionado">
                        <option value="1">Janeiro</option>
                        <option value="2">Fevereiro</option>
                        <option value="3">Março</option>
                        <option value="4">Abril</option>
                        <option value="5">Maio</option>
                        <option value="6">Junho</option>
                        <option value="7">Julho</option>
                        <option value="8">Agosto</option>
                        <option value="9">Setembro</option>
                        <option value="10">Outubro</option>
                        <option value="11">Novembro</option>
                        <option value="12">Dezembro</option>
                      </select>
                    </div>
              
                    <div id="ano-field" class="form-group hidden">
                      <label for="anoSelecionado">Ano:</label>
                      <input type="number" id="anoSelecionado" min="2000" max="2100" value="2025" required>
                    </div>
              
                    <div class="modal-actions">
                      <button type="button" class="cancel-btn" id="cancelar-relatorio">Cancelar</button>
                      <button type="submit" class="confirm-modal-btn">Gerar PDF</button>
                    </div>
                  </form>
                </div>
              </div>
        </section>
    </main>

    <!-- ================= MODAL DE CADASTRO ================= -->
    <div id="cadastro-modal" class="modal-overlay">
        <div class="modal-content cadastro-content">
            <h3>Cadastro de Equipamento</h3>
            
            <form id="cadastro-form" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="fornecedor">Fornecedor:</label>
                    <input type="text" id="fornecedor" name="fornecedor" required>
                </div>

                <div class="form-group">
                    <label for="nomeEquipamento">Nome do Equipamento:</label>
                    <input type="text" id="nomeEquipamento" name="nomeEquipamento" required>
                </div>

                <div class="form-group">
                    <label for="descricao">Descrição:</label>
                    <textarea id="descricao" name="descricao" rows="3" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="imagemEquipamento">Imagem do Equipamento:</label>
                    <input type="file" id="imagemEquipamento" name="imagemEquipamento" accept="image/*" required>
                </div>
                
                <div class="form-group checkbox-group">
                    <input type="checkbox" id="altoValor" name="altoValor">
                    <label for="altoValor">Equipamento de Alto Valor (AltoValor):</label>
                </div>

                <div class="modal-actions">
                    <button type="button" class="cancel-btn" id="close-cadastro-modal">Cancelar</button>
                    <button type="submit" class="confirm-modal-btn">Cadastrar</button>
                </div>
            </form>
        </div>
    </div>

   <div id="agendamento-modal" class="modal-overlay"> 
    <div class="modal-content confirmation-content">
            <h3>Confirmar Agendamento</h3>
            <form id="agendamento-form">
                <p>Você está agendando o equipamento <strong><span id="modal-equipamento-nome" style="color: var(--dark-blue);"></span></strong> para retirada no dia <strong><span id="modal-data-retirada" style="color: var(--dark-blue);"></span></strong>.</p>
                
                <div class="form-group" style="margin-top: 20px;">
                    <label for="nomeSolicitante">Nome do Solicitante:</label>
                    <input type="text" id="nomeSolicitante" name="nomeSolicitante" required>
                </div>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label for="horarioAgendamento">Horário de Retirada:</label>
                    <input type="time" id="horarioAgendamento" name="horarioAgendamento" required>
                </div>

                <div class="form-group">
                    <label for="dataDevolucao">Data de Devolução:</label>
                    <input type="date" id="dataDevolucao" name="dataDevolucao" required>
                </div>

                <div class="form-group">
                    <label for="horarioDevolucao">Horário de Devolução:</label>
                    <input type="time" id="horarioDevolucao" name="horarioDevolucao" required>
                </div>

                <div class="modal-actions">
                    <button type="button" class="cancel-btn" id="close-agendamento-modal">Cancelar</button>
                    <button type="submit" class="confirm-modal-btn">Confirmar Agendamento</button>
                </div>
            </form>
        </div>
    </div>
            
    <script src="script.js"></script> 
</body>
</html>
